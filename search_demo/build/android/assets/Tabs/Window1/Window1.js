exports.Window1=function(t){function e(){h={},m=0,c.title="Cancel"}function i(t){var e="";switch(t.contentType){case d.URL:e=t.result;break;case d.SMS:e=JSON.stringify(t.data);break;case d.TEXT:e=t.result;break;case d.CONTACT:e=JSON.stringify(t.data)}return e}function a(t){r.show();var e=[],i=Titanium.Network.createHTTPClient();i.open("POST","http://hellosearch.esy.es/ti_search/search.php"),i.onload=function(){r.hide();var t=JSON.parse(this.responseText);if(t.things){var i=Ti.UI.createTableViewRow(),a=Ti.UI.createLabel({text:"名稱："+t.things[0].item_name,left:10,top:10,height:40,width:210});i.add(a),e.push(i);var o=Ti.UI.createTableViewRow(),n=Ti.UI.createLabel({text:"目的地："+t.things[0].item_to,left:10,top:10,height:40,width:210});o.add(n),e.push(o);var d=Ti.UI.createTableViewRow(),l=Ti.UI.createLabel({text:"運送狀態："+t.things[0].status,left:10,top:10,height:40,width:210});d.add(l),e.push(d);var s=Ti.UI.createTableViewRow(),f=Ti.UI.createLabel({text:"到達時間："+t.things[0].arrive_time,left:10,top:10,height:40,width:290});s.add(f),e.push(s);var c=Ti.UI.createTableViewRow(),T=Ti.UI.createLabel({text:"說明："+t.things[0].item_description,left:10,top:10,height:60,width:290});c.add(T),e.push(c),b.data=e}},i.onerror=function(){return alert(this.error+": "+this.statusText),!1},i.send({thing:t})}var o=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"請輸入物流碼...",color:"#336699",top:10,left:10,width:250,height:50});o.addEventListener("return",function(){a(o.value),o.value=""});var n;n="iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK;var r=Ti.UI.createActivityIndicator({color:"white",font:{fontFamily:"Helvetica Neue",fontSize:14},message:"Loading...",style:n,top:50,left:100,zIndex:1}),d=require("ti.barcode");d.allowRotation=!0,"android"===Ti.Platform.osname&&(d.allowInstructions=!1),d.displayedMessage="",d.useLED=!0;var l=Ti.UI.createView({backgroundColor:"transparent",top:0,right:0,bottom:0,left:0}),s=Ti.UI.createButton({title:d.useFrontCamera?"Back Camera":"Front Camera",textAlign:"center",color:"#000",backgroundColor:"#fff",style:0,font:{fontWeight:"bold",fontSize:16},borderColor:"#000",borderRadius:10,borderWidth:1,opacity:.5,width:220,height:30,bottom:10});if(s.addEventListener("click",function(){d.useFrontCamera=!d.useFrontCamera,s.title=d.useFrontCamera?"Back Camera":"Front Camera"}),l.add(s),"iphone"===Ti.Platform.osname){var f=Ti.UI.createButton({title:d.useLED?"LED is On":"LED is Off",textAlign:"center",color:"#000",backgroundColor:"#fff",style:0,font:{fontWeight:"bold",fontSize:16},borderColor:"#000",borderRadius:10,borderWidth:1,opacity:.5,width:220,height:30,bottom:40});f.addEventListener("click",function(){d.useLED=!d.useLED,f.title=d.useLED?"LED is On":"LED is Off"}),l.add(f)}var c=Ti.UI.createButton({title:"Cancel",textAlign:"center",color:"#000",backgroundColor:"#fff",style:0,font:{fontWeight:"bold",fontSize:16},borderColor:"#000",borderRadius:10,borderWidth:1,opacity:.5,width:220,height:30,top:20});if(c.addEventListener("click",function(){d.cancel()}),l.add(c),"iphone"===Ti.Platform.osname)var T=Ti.UI.createButton({title:"QRcode",width:200,left:245,height:40,top:18});else var T=Ti.UI.createButton({title:"QRcode",width:200,left:260,height:40,top:18});T.addEventListener("click",function(){e(),d.capture({animate:!0,overlay:l,showCancel:!1,showRectangle:!1,keepOpen:!0})});var h={},m=0;d.addEventListener("error",function(){}),d.addEventListener("cancel",function(){Ti.API.info("Cancel received")}),d.addEventListener("success",function(t){Ti.API.info("Success called with barcode: "+t.result),h[""+t.result]||(h[t.result]=!0,m+=1,c.title="Finished ("+m+" Scanned)",a(i(t)))});var u,b=Ti.UI.createTableView({top:70,left:0});t.m_fIsAndroid&&(u=Titanium.UI.createWindow({PartOfTab:!0,Startup:!0,icon:"/images/dialog-information-3.ico",name:"Window1",backgroundColor:"#ffffff",title:"搜尋"})),t.m_fIsiPhone&&(u=Titanium.UI.createWindow({PartOfTab:!0,Startup:!0,icon:"/images/dialog-information-3.ico",name:"Window1",backgroundColor:"#ffffff",tintColor:"#000000",title:"搜尋"})),t.m_fIsiPad&&(u=Titanium.UI.createWindow({PartOfTab:!0,Startup:!0,icon:"/images/dialog-information-3.ico",name:"Window1",backgroundColor:"#ffffff",tintColor:"#000000",title:"搜尋"})),t.m_fIsMobileWeb&&(u=Titanium.UI.createWindow({PartOfTab:!0,Startup:!0,icon:"/images/dialog-information-3.ico",name:"Window1",backgroundColor:"#ffffff",title:"搜尋"})),t.m_fIsTablet&&(u=Titanium.UI.createWindow({PartOfTab:!0,Startup:!0,icon:"/images/dialog-information-3.ico",name:"Window1",backgroundColor:"#ffffff",title:"搜尋"})),u.aoChildWindows={},u.addEventListener("close",function(){Ti.API.fireEvent("GUI_Window_Closed",{win:u})}),u.add(o),u.add(r),u.add(T),u.add(b);var p=void 0,w=void 0;t.aoChildWindows.Tabs&&(w=t.aoChildWindows.Tabs,p=t.aoChildWindows.Tabs.aoChildWindows),p&&(p.Window1=u,w.aoChildWindows=p);var g=Titanium.UI.createTab({icon:"/images/dialog-information-3.ico",title:"搜尋",window:u});return t.Tabs.addTab(g),u.pParentTab=t.Tabs,t.Tabs.tabTab_Window1=g,t.currentWindow=u,u};